---
output: github_document
---

```{r, echo=FALSE}
library(DBI)
con <- dbConnect(RSQLite::SQLite(), ":memory:")
dbWriteTable(con, "mtcars", mtcars)
```

```{prql}
from mtcars | filter cyl > 6 | select [mpg] | take 3
```

```{prql, connection = "con"}
from mtcars | filter cyl > 6 | select [mpg] | take 3
```

```{prql}
from mtcars
filter cyl > 6
select [cyl, mpg]
derive [mpg_int = round 0 mpg]
take 3
```

```{prql, connection = "con"}
from mtcars
filter cyl > 6
select [cyl, mpg]
derive [mpg_int = round 0 mpg]
take 3
```

```{r, echo=FALSE}
dbDisconnect(con)
```
